# 🎮 Cocos Creator 3.x 斗地主游戏

基于Cocos Creator 3.8+开发的斗地主游戏前端，支持Web、微信小程序、Android、iOS等多平台发布。使用TypeScript开发，采用现代化的Cocos Creator 3.x API和最佳实践。

## 📋 项目特点

- ✅ **跨平台支持**: Web、微信小程序、Android、iOS
- ✅ **完整游戏逻辑**: 标准斗地主规则实现
- ✅ **实时多人对战**: WebSocket实时通信
- ✅ **精美UI设计**: 现代化游戏界面
- ✅ **音效支持**: 完整的游戏音效系统
- ✅ **动画效果**: 流畅的卡片动画

## 🚀 快速开始

### 环境要求

- **Cocos Creator 3.8.0+** (推荐3.8.2或更高版本)
- **Node.js 18.0+** (推荐LTS版本)
- **TypeScript 5.0+**
- **微信开发者工具** (微信小程序开发)
- **Android Studio** (Android开发)
- **Xcode** (iOS开发)

### 安装依赖

```bash
cd cocos-doudizhu
npm install
```

### 开发调试

1. 使用Cocos Creator打开项目
2. 在编辑器中点击"运行"按钮
3. 选择目标平台进行预览

### 构建发布

#### Web平台
```bash
# 在Cocos Creator中
项目 -> 构建发布 -> Web Mobile -> 构建
```

#### 微信小程序
```bash
# 在Cocos Creator中
项目 -> 构建发布 -> 微信小游戏 -> 构建
```

#### Android
```bash
# 在Cocos Creator中
项目 -> 构建发布 -> Android -> 构建
```

#### iOS
```bash
# 在Cocos Creator中
项目 -> 构建发布 -> iOS -> 构建
```

## 📁 项目结构

```
cocos-doudizhu/
├── assets/                    # 游戏资源
│   ├── scripts/              # 游戏脚本
│   │   ├── GameManager.ts    # 游戏主管理器
│   │   ├── Network/          # 网络模块
│   │   │   └── NetworkManager.ts
│   │   ├── UI/               # UI模块
│   │   │   ├── UIManager.ts
│   │   │   ├── LoginController.ts
│   │   │   ├── LobbyController.ts
│   │   │   └── GameController.ts
│   │   ├── Game/             # 游戏逻辑
│   │   │   ├── CardManager.ts
│   │   │   └── GameLogic.ts
│   │   ├── Audio/            # 音频模块
│   │   │   └── AudioManager.ts
│   │   └── Data/             # 数据管理
│   │       └── GameData.ts
│   ├── resources/            # 资源文件
│   │   ├── images/           # 图片资源
│   │   ├── audio/            # 音频资源
│   │   ├── animations/       # 动画资源
│   │   └── prefabs/          # 预制体
│   └── scenes/               # 游戏场景
│       ├── Login.scene       # 登录场景
│       ├── Lobby.scene       # 大厅场景
│       └── Game.scene        # 游戏场景
├── build-templates/          # 构建模板
├── project.json              # 项目配置
├── package.json              # 依赖配置
└── README.md                 # 项目说明
```

## 🎯 核心功能

### 游戏功能
- **完整斗地主规则**: 支持所有标准牌型
- **抢地主机制**: 叫地主、抢地主、明牌
- **牌型验证**: 自动验证出牌合法性
- **积分系统**: 完整的积分计算
- **游戏记录**: 保存游戏历史

### 网络功能
- **实时通信**: WebSocket双向通信
- **断线重连**: 自动重连机制
- **消息队列**: 可靠的消息传递
- **状态同步**: 实时游戏状态同步

### UI功能
- **响应式设计**: 适配不同屏幕尺寸
- **动画效果**: 流畅的过渡动画
- **音效支持**: 完整的音效系统
- **多语言支持**: 支持中英文切换

## 🔧 技术架构

### 前端技术栈
- **Cocos Creator 3.8+**: 游戏引擎
- **TypeScript 5.0+**: 开发语言
- **Socket.IO 4.7+**: 实时通信
- **Axios 1.6+**: HTTP请求
- **ESLint**: 代码检查
- **Tween动画系统**: 流畅动画效果

### 后端集成
- **WebSocket**: 实时游戏通信
- **RESTful API**: 数据接口
- **JSON**: 数据格式
- **JWT**: 身份认证

## 🎨 界面设计

### 登录界面
- 用户昵称输入
- 头像选择
- 渐变背景设计
- 表单验证

### 大厅界面
- 用户信息展示
- 房间列表
- 快速开始
- 创建房间

### 游戏界面
- 3D游戏桌面
- 玩家位置布局
- 手牌管理
- 游戏控制
- 实时聊天

## 🎵 音效系统

### 背景音乐
- 游戏背景音乐
- 音量控制
- 循环播放

### 音效
- 卡片点击音效
- 出牌音效
- 胜利/失败音效
- 按钮点击音效
- 通知音效

## 📱 平台适配

### Web平台
- 支持现代浏览器
- 响应式设计
- 触摸操作支持

### 微信小程序
- 符合微信规范
- 性能优化
- 分享功能

### 移动端
- 触摸手势支持
- 性能优化
- 内存管理

## 🔧 开发指南

### 添加新功能
1. 在对应的模块目录下创建脚本
2. 继承适当的基类
3. 实现所需功能
4. 在场景中配置节点

### 修改UI
1. 在Cocos Creator编辑器中打开场景
2. 修改UI节点和组件
3. 调整布局和样式
4. 测试不同分辨率

### 添加音效
1. 将音频文件放入`assets/resources/audio/`目录
2. 在AudioManager中注册音效
3. 在需要的地方调用播放方法

### 网络通信
1. 在NetworkManager中添加新的事件处理
2. 在对应的Controller中监听事件
3. 处理服务器响应

## 🐛 调试指南

### 开发工具
- Cocos Creator编辑器
- 浏览器开发者工具
- 微信开发者工具

### 调试技巧
- 使用console.log输出调试信息
- 利用断点调试
- 检查网络请求
- 监控性能指标

### 常见问题
1. **构建失败**: 检查依赖和配置
2. **网络连接失败**: 检查服务器地址
3. **UI显示异常**: 检查节点配置
4. **音效不播放**: 检查音频文件路径

## 📊 性能优化

### 资源优化
- 图片压缩
- 音频压缩
- 代码分割
- 资源预加载

### 渲染优化
- 减少DrawCall
- 使用对象池
- 合理使用粒子效果
- 优化动画性能

### 内存优化
- 及时释放资源
- 使用对象池
- 避免内存泄漏
- 监控内存使用

## 🚀 部署发布

### Web部署
1. 构建Web版本
2. 上传到Web服务器
3. 配置域名和SSL
4. 测试功能

### 微信小程序发布
1. 构建微信小游戏版本
2. 使用微信开发者工具打开
3. 上传代码到微信后台
4. 提交审核

### 移动端发布
1. 构建对应平台版本
2. 使用对应开发工具打开
3. 配置签名和证书
4. 发布到应用商店

## 📝 更新日志

### v1.0.0 (2024-01-01)
- ✅ 初始版本发布
- ✅ 支持Web平台
- ✅ 支持微信小程序
- ✅ 支持Android/iOS
- ✅ 完整的游戏功能
- ✅ 实时多人对战
- ✅ 音效系统
- ✅ 动画效果

## 🤝 贡献指南

1. Fork 项目
2. 创建功能分支
3. 提交代码
4. 创建 Pull Request

## 📄 许可证

MIT License

## 📞 联系方式

- 项目地址: [GitHub Repository]
- 问题反馈: [Issues]
- 技术交流: [Discussions]

---

**注意**: 本项目需要配合后端服务使用，请确保后端服务正常运行。
