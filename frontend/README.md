# 斗地主游戏前端客户端

这是一个用于测试斗地主游戏服务器的前端客户端页面。

## 功能特性

- **用户登录**: 输入玩家名称连接到游戏服务器
- **房间管理**: 创建、查看、加入游戏房间
- **实时通信**: 使用Socket.IO与服务器实时通信
- **游戏状态**: 显示当前房间状态和游戏进程
- **消息日志**: 实时显示服务器消息和操作反馈

## 新增高级功能

### ✅ 斗地主游戏界面全面优化完成

### 🎯 核心问题解决

#### **1. 玩家姓名显示** ✅
- **问题**: 玩家姓名没有正确显示
- **解决**: 更新了HTML结构，为每个玩家位置添加了独立的姓名显示元素
- **实现**: 顶部左侧玩家、顶部右侧玩家、底端左侧玩家各有独立的姓名显示

#### **2. 游戏状态布局优化** ✅
- **问题**: 游戏状态挡住了桌面中央区域
- **解决**: 将游戏状态移出中央游戏区域，放在底部的独立信息区域
- **实现**: 游戏信息分为左右两个区域，左侧显示游戏状态和历史，右侧显示聊天

#### **3. 游戏桌空间扩大** ✅
- **问题**: 游戏桌面空间不足
- **解决**: 将椭圆形游戏桌改为更大的方形设计（1000×600px）
- **改进**: 方形设计提供更多可用空间，布局更加合理

### 🎮 最新界面布局特色

#### **玩家头像布局革新**
- ✅ **上端双玩家**: 玩家2在上部左侧，玩家3在上部右侧
- ✅ **底端当前玩家**: 当前玩家在底端左侧，头像为醒目的方形设计
- ✅ **姓名显示**: 所有玩家姓名显示在头像下方，清晰易读
- ✅ **手牌位置**: 当前玩家的手牌区域位于底端右侧，方便操作

#### **信息区域重新设计**
- ✅ **左侧区域**: 游戏状态信息和出牌历史记录
- ✅ **右侧区域**: 房间聊天系统，实时互动
- ✅ **底部区域**: 不再使用侧边栏，信息分布更加合理

#### **视觉体验升级**
- ✅ **方形游戏桌**: 1000×600px专业级游戏桌面
- ✅ **浅绿色主色调**: 清新浅绿色系渐变背景，营造舒适游戏氛围
- ✅ **木纹纹理**: 添加木纹背景效果，提升视觉质感
- ✅ **装饰边框**: 内边框装饰，增加层次感
- ✅ **中央简化**: 只保留游戏操作按钮，界面更简洁

### 🎨 技术实现亮点

1. **响应式设计**: 完美适配桌面和移动设备
2. **模块化JavaScript**: 清晰的功能划分和事件处理
3. **实时通信**: Socket.IO实现即时状态同步
4. **用户体验优化**: 直观的交互设计和视觉反馈
5. **代码可维护性**: 结构化的CSS和JavaScript代码

### 📱 使用体验

- **桌面端**: 完整功能展示，大屏幕优化布局
- **平板端**: 自适应布局，触摸友好的交互体验
- **移动端**: 紧凑布局，核心功能优先呈现

### 🚀 快速开始

1. **启动服务器**:
   ```bash
   cd backend
   npm install
   npm start
   ```

2. **访问大厅**: `http://localhost:3000/lobby/`

3. **创建/加入房间**: 在大厅中创建或加入游戏房间

4. **享受游戏**: 进入房间享受全新的斗地主游戏体验

---

**🎉 界面优化完成！现在您拥有了一个专业、现代、用户友好的斗地主游戏界面！**

## 使用说明

### 1. 启动服务器

确保后端服务器正在运行：

```bash
cd backend
npm install
npm run dev
```

服务器将在 `http://localhost:3000` 上启动。

### 2. 访问前端页面

在浏览器中打开：`http://localhost:3000/test.html`

或者直接访问前端静态文件：`file:///path/to/doudizhu/frontend/public/index.html`

### 3. 测试功能

1. **登录**: 输入玩家名称，点击"连接服务器"
2. **查看房间**: 系统会自动加载现有的游戏房间列表
3. **创建房间**: 输入房间名称，选择最大玩家数，点击"创建房间"
4. **加入房间**: 在房间列表中点击"加入房间"按钮
5. **房间操作**: 加入房间后可以"准备"或"离开房间"
6. **游戏操作**: 房间内可以进行出牌等游戏操作

## 文件结构

```
frontend/
├── public/
│   ├── index.html          # 主页面
│   ├── css/
│   │   └── style.css       # 样式文件
│   └── js/
│       └── client.js       # 客户端逻辑
```

## API 接口

前端通过以下方式与服务器交互：

- **REST API**:
  - `GET /api/games/rooms` - 获取房间列表
  - `POST /api/games/rooms` - 创建房间
  - `GET /api/games/rooms/:roomId` - 获取房间详情
  - `POST /api/games/rooms/:roomId/join` - 加入房间
  - `POST /api/games/rooms/:roomId/ready` - 玩家准备

- **Socket.IO 事件**:
  - `join_game` - 加入游戏房间
  - `leave_game` - 离开游戏房间
  - `play_cards` - 出牌
  - `chat message` - 聊天消息

## 注意事项

1. 确保后端服务器在端口3000上运行
2. 前端页面需要能够访问Socket.IO服务器
3. 所有游戏逻辑都是模拟性质，用于测试服务器功能
4. 消息日志会实时显示所有操作和服务器响应

## 开发说明

如需修改前端功能：

1. 编辑 `public/index.html` - 修改页面结构
2. 编辑 `public/css/style.css` - 修改样式
3. 编辑 `public/js/client.js` - 修改客户端逻辑

## 故障排除

如果遇到连接问题：

1. 检查后端服务器是否在 `http://localhost:3000` 运行
2. 检查浏览器控制台是否有错误信息
3. 确认防火墙没有阻止相关端口
4. 尝试刷新页面重新连接
