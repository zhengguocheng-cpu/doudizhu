# âœ… é—®é¢˜å·²ä¿®å¤ï¼å¿…é¡»é‡å¯æœåŠ¡å™¨

## ğŸ”§ ä¿®å¤å†…å®¹

### **1. æ·»åŠ CSPå¤´**
è§£å†³äº†å†…å®¹å®‰å…¨ç­–ç•¥é”™è¯¯ï¼š
```typescript
res.setHeader(
  'Content-Security-Policy',
  "default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; connect-src 'self' ws: wss:; img-src 'self' data:;"
);
```

### **2. ä¼˜åŒ–è·¯ç”±é¡ºåº**
```typescript
1. APIæ–‡æ¡£è·¯ç”± (/api)
2. æ¸¸æˆAPIè·¯ç”± (/api/games)
3. é¡µé¢è·¯ç”± (/, /login/, /lobby/, /room/)
4. é™æ€æ–‡ä»¶æœåŠ¡ (fallback)
```

---

## ğŸ”„ ç«‹å³é‡å¯æœåŠ¡å™¨

### **æ­¥éª¤**

1. **åœæ­¢å½“å‰æœåŠ¡å™¨**
   - åœ¨è¿è¡Œ `npm run dev` çš„ç»ˆç«¯
   - æŒ‰ `Ctrl + C`

2. **é‡æ–°å¯åŠ¨**
   ```bash
   cd backend
   npm run dev
   ```

3. **ç­‰å¾…å¯åŠ¨æˆåŠŸ**
   ```
   ğŸš€ æ–—åœ°ä¸»æ¸¸æˆæœåŠ¡å™¨å¯åŠ¨æˆåŠŸ
   ğŸ“ æœåŠ¡å™¨åœ°å€: http://localhost:3000
   ```

4. **åˆ·æ–°æµè§ˆå™¨**
   - è®¿é—® `http://localhost:3000/`
   - åº”è¯¥è‡ªåŠ¨è·³è½¬åˆ°ç™»å½•é¡µé¢

---

## âœ… é¢„æœŸç»“æœ

è®¿é—® `http://localhost:3000/` åï¼š

1. âœ… è‡ªåŠ¨é‡å®šå‘åˆ° `/login/`
2. âœ… æ˜¾ç¤ºç™»å½•é¡µé¢
3. âœ… æ²¡æœ‰ "Cannot GET /" é”™è¯¯
4. âœ… CSPé”™è¯¯å·²è§£å†³ï¼ˆå¯èƒ½è¿˜æœ‰DevToolsçš„è­¦å‘Šï¼Œä½†ä¸å½±å“åŠŸèƒ½ï¼‰

---

## ğŸ¯ æµ‹è¯•ç™»å½•æµç¨‹

1. **è¾“å…¥ç”¨æˆ·å**: `player1`
2. **é€‰æ‹©å¤´åƒ**: ä»»æ„
3. **ç‚¹å‡»**: "è¿›å…¥æ¸¸æˆå¤§å…"
4. **è§‚å¯Ÿæ§åˆ¶å°**:
   - å‰ç«¯: Socketè¿æ¥æˆåŠŸ
   - åç«¯: ç”¨æˆ·è‡ªåŠ¨æ³¨å†Œ
5. **éªŒè¯è·³è½¬**: åº”è¯¥è·³è½¬åˆ°å¤§å…é¡µé¢

---

**è¯·ç«‹å³é‡å¯æœåŠ¡å™¨å¹¶æµ‹è¯•ï¼** ğŸš€
