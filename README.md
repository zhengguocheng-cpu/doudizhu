<<<<<<< HEAD
# æ–—åœ°ä¸»æ¸¸æˆé¡¹ç›®

**ç‰ˆæœ¬**: v2.0.0 - ä¼ä¸šçº§æ¨¡å—åŒ–æ¶æ„å®Œæˆ ğŸ‰
**æ›´æ–°æ—¥æœŸ**: 2025å¹´1æœˆ22æ—¥

### **ğŸ”¥ çƒ­é‡è½½å¼€å‘ï¼ˆæ–°åŠŸèƒ½ï¼‰**

é¡¹ç›®ç°åœ¨æ”¯æŒå®Œæ•´çš„çƒ­é‡è½½å¼€å‘ç¯å¢ƒï¼

```bash
# è¿›å…¥åç«¯ç›®å½•
cd backend

# å®‰è£…ä¾èµ–
npm install

# ğŸ”¥ å¯åŠ¨çƒ­é‡è½½å¼€å‘æ¨¡å¼ï¼ˆæ¨èï¼‰
npm run dev:watch
```

**çƒ­é‡è½½ç‰¹æ€§**ï¼š
- âœ… ä¿®æ”¹ `.ts` æ–‡ä»¶è‡ªåŠ¨é‡å¯æœåŠ¡å™¨
- âœ… 500ms å»¶è¿Ÿé‡å¯ï¼Œé¿å…é¢‘ç¹æ“ä½œ
- âœ… å½©è‰²æ§åˆ¶å°è¾“å‡ºï¼ŒçŠ¶æ€æ¸…æ™°
- âœ… æ™ºèƒ½å¿½ç•¥ `node_modules` å’Œ `dist` ç›®å½•
- âœ… æ”¯æŒç¯å¢ƒå˜é‡çƒ­é‡è½½

**å¼€å‘å·¥ä½œæµç¨‹**ï¼š
1. å¯åŠ¨ `npm run dev:watch`
2. ä¿®æ”¹ä»»ä½•æºä»£ç æ–‡ä»¶
3. è‡ªåŠ¨æ£€æµ‹å¹¶é‡å¯æœåŠ¡å™¨
4. æµè§ˆå™¨åˆ·æ–°æŸ¥çœ‹æ•ˆæœ

#### **æˆ¿é—´æ•°æ®ç»Ÿä¸€ç®¡ç†** âœ…

ä¿®å¤äº†æˆ¿é—´æ•°æ®å­˜å‚¨ä¸ä¸€è‡´çš„é—®é¢˜ï¼š
- **ä¹‹å‰**: `Application` ç±»å’Œ `GameService` ç±»åˆ†åˆ«ç»´æŠ¤æˆ¿é—´æ•°æ®
- **ç°åœ¨**: ç»Ÿä¸€ç”± `GameService` ç®¡ç†æ‰€æœ‰æˆ¿é—´æ•°æ®
- **è§£å†³**: å‰ç«¯ `GET /api/games/rooms` ç°åœ¨èƒ½æ­£ç¡®è·å–é»˜è®¤æˆ¿é—´åˆ—è¡¨

#### **ğŸ”§ CardServiceæ¨¡å—æ‹†åˆ†å®Œæˆ** âœ…

æˆåŠŸå°†GameServiceä¸­çš„æ‰‘å…‹ç‰Œç›¸å…³åŠŸèƒ½æ‹†åˆ†åˆ°ç‹¬ç«‹çš„æœåŠ¡æ¨¡å—ï¼š

**æ‹†åˆ†çš„æ–‡ä»¶ç»“æ„**ï¼š
```
backend/src/services/card/
â”œâ”€â”€ index.ts           # ç»Ÿä¸€å¯¼å‡º
â”œâ”€â”€ cardGenerator.ts   # æ‰‘å…‹ç‰Œç”Ÿæˆå™¨ âœ¨
â”œâ”€â”€ cardShuffler.ts    # æ´—ç‰Œç®—æ³•æœåŠ¡ âœ¨
â”œâ”€â”€ cardValidator.ts   # ç‰Œå‹éªŒè¯å™¨ âœ¨
â””â”€â”€ cardService.ts     # ä¸»è¦æœåŠ¡æ¥å£ âœ¨
```

**åŠŸèƒ½ç‰¹æ€§**ï¼š
- âœ… **æ™ºèƒ½å‘ç‰Œ**: è‡ªåŠ¨ä¸ºç©å®¶åˆ†é…17å¼ æ‰‹ç‰Œ + 3å¼ åº•ç‰Œ
- âœ… **å¤šç§æ´—ç‰Œç®—æ³•**: Fisher-Yatesç®—æ³• + å¤šæ¬¡æ´—ç‰Œ
- âœ… **ç‰Œå‹éªŒè¯**: å‡ºç‰Œåˆæ³•æ€§æ£€æŸ¥
- âœ… **æ˜¾ç¤ºä¼˜åŒ–**: èŠ±è‰²å’Œç‰Œé¢å‹å¥½æ˜¾ç¤º
- âœ… **å…¬å¹³æ€§éªŒè¯**: æ´—ç‰Œç®—æ³•å…¬å¹³æ€§æµ‹è¯•

**APIæ¥å£**ï¼š
- `POST /api/games/rooms/{roomId}/validate-play` - å‡ºç‰ŒéªŒè¯ âœ¨

#### **ğŸ—ï¸ RoomServiceæ¨¡å—æ‹†åˆ†å®Œæˆ** âœ…

æˆåŠŸå°†GameServiceä¸­çš„æˆ¿é—´ç®¡ç†åŠŸèƒ½æ‹†åˆ†åˆ°ç‹¬ç«‹çš„æœåŠ¡æ¨¡å—ï¼š

**æ‹†åˆ†çš„æ–‡ä»¶ç»“æ„**ï¼š
```
backend/src/services/room/
â”œâ”€â”€ index.ts           # ç»Ÿä¸€å¯¼å‡º
â”œâ”€â”€ roomManager.ts     # æˆ¿é—´ç”Ÿå‘½å‘¨æœŸç®¡ç† âœ¨
â”œâ”€â”€ roomValidator.ts   # æˆ¿é—´è§„åˆ™éªŒè¯ âœ¨
â”œâ”€â”€ defaultRooms.ts    # é»˜è®¤æˆ¿é—´é…ç½® âœ¨
â””â”€â”€ roomService.ts     # ä¸»è¦æœåŠ¡æ¥å£ âœ¨
```

**åŠŸèƒ½ç‰¹æ€§**ï¼š
- âœ… **æˆ¿é—´CRUD**: å®Œæ•´çš„æˆ¿é—´åˆ›å»ºã€è¯»å–ã€æ›´æ–°ã€åˆ é™¤
- âœ… **ç©å®¶ç®¡ç†**: ç©å®¶åŠ å…¥ã€ç¦»å¼€ã€å‡†å¤‡çŠ¶æ€ç®¡ç†
- âœ… **è§„åˆ™éªŒè¯**: æˆ¿é—´å®¹é‡ã€æ¸¸æˆå¼€å§‹æ¡ä»¶éªŒè¯
- âœ… **çŠ¶æ€ç®¡ç†**: æˆ¿é—´çŠ¶æ€æœºå’Œç”Ÿå‘½å‘¨æœŸç®¡ç†
- âœ… **é»˜è®¤æˆ¿é—´**: è‡ªåŠ¨åˆå§‹åŒ–6ä¸ªé»˜è®¤æˆ¿é—´

**æŠ€æœ¯æ”¹è¿›**ï¼š
- âœ… **ç»Ÿä¸€API**: æ‰€æœ‰æˆ¿é—´æ“ä½œé€šè¿‡RoomServiceç»Ÿä¸€å¤„ç†
- âœ… **é”™è¯¯å¤„ç†**: å®Œå–„çš„å¼‚å¸¸å¤„ç†å’Œé”™è¯¯ä¿¡æ¯
- âœ… **ç±»å‹å®‰å…¨**: å®Œæ•´çš„TypeScriptç±»å‹å®šä¹‰
- âœ… **Socket.IOé›†æˆ**: å®æ—¶é€šä¿¡ä¸æˆ¿é—´çŠ¶æ€åŒæ­¥

#### **ğŸ‘¤ PlayerServiceæ¨¡å—æ‹†åˆ†å®Œæˆ** âœ…

æˆåŠŸå°†GameServiceä¸­çš„ç©å®¶ç®¡ç†åŠŸèƒ½æ‹†åˆ†åˆ°ç‹¬ç«‹çš„æœåŠ¡æ¨¡å—ï¼š

**æ‹†åˆ†çš„æ–‡ä»¶ç»“æ„**ï¼š
```
backend/src/services/player/
â”œâ”€â”€ index.ts           # ç»Ÿä¸€å¯¼å‡º
â”œâ”€â”€ playerManager.ts   # ç©å®¶ç”Ÿå‘½å‘¨æœŸç®¡ç† âœ¨
â”œâ”€â”€ playerValidator.ts # ç©å®¶æ“ä½œéªŒè¯ âœ¨
â”œâ”€â”€ playerSession.ts   # ç©å®¶ä¼šè¯ç®¡ç† âœ¨
â””â”€â”€ playerService.ts   # ä¸»è¦æœåŠ¡æ¥å£ âœ¨
```

**åŠŸèƒ½ç‰¹æ€§**ï¼š
- âœ… **ç©å®¶CRUD**: å®Œæ•´çš„ç©å®¶åˆ›å»ºã€è¯»å–ã€æ›´æ–°ã€åˆ é™¤
- âœ… **çŠ¶æ€ç®¡ç†**: ç©å®¶å‡†å¤‡çŠ¶æ€ã€æ‰‹ç‰Œã€æƒé™ç®¡ç†
- âœ… **æƒé™éªŒè¯**: å‡ºç‰Œã€å‡†å¤‡ã€ç¦»å¼€ç­‰æ“ä½œæƒé™éªŒè¯
- âœ… **ä¼šè¯è·Ÿè¸ª**: åœ¨çº¿çŠ¶æ€ã€æ´»åŠ¨æ—¶é—´ã€è‡ªåŠ¨æ¸…ç†
- âœ… **è§„åˆ™å¼•æ“**: å®Œæ•´çš„æ¸¸æˆè§„åˆ™å’Œä¸šåŠ¡é€»è¾‘éªŒè¯

**APIæ¥å£**ï¼š
- `GET /api/games/rooms/{roomId}/players` - è·å–æˆ¿é—´ç©å®¶åˆ—è¡¨ âœ¨
- `GET /api/games/rooms/{roomId}/players/{playerId}/status` - è·å–ç©å®¶çŠ¶æ€ âœ¨

**æŠ€æœ¯æ”¹è¿›**ï¼š
- âœ… **çŠ¶æ€ä¸€è‡´æ€§**: ç»Ÿä¸€ç®¡ç†ç©å®¶çŠ¶æ€ï¼Œé¿å…æ•°æ®ä¸ä¸€è‡´
- âœ… **æƒé™æ§åˆ¶**: ç»†ç²’åº¦çš„æ“ä½œæƒé™éªŒè¯
- âœ… **ä¼šè¯ç®¡ç†**: å®Œæ•´çš„åœ¨çº¿çŠ¶æ€è·Ÿè¸ª
- âœ… **é”™è¯¯å¤„ç†**: å®Œå–„çš„å¼‚å¸¸å¤„ç†å’Œä¸šåŠ¡éªŒè¯

#### **ğŸ® GameEngineæ¨¡å—æ‹†åˆ†å®Œæˆ** âœ…

æˆåŠŸå°†GameServiceä¸­çš„æ¸¸æˆé€»è¾‘åŠŸèƒ½æ‹†åˆ†åˆ°ç‹¬ç«‹çš„æœåŠ¡æ¨¡å—ï¼š

**æ‹†åˆ†çš„æ–‡ä»¶ç»“æ„**ï¼š
```
backend/src/services/game/
â”œâ”€â”€ index.ts           # ç»Ÿä¸€å¯¼å‡º
â”œâ”€â”€ gameEngine.ts      # æ¸¸æˆæµç¨‹æ§åˆ¶å¼•æ“ âœ¨
â”œâ”€â”€ gameRules.ts       # æ¸¸æˆè§„åˆ™éªŒè¯ âœ¨
â”œâ”€â”€ gameState.ts       # æ¸¸æˆçŠ¶æ€ç®¡ç† âœ¨
â””â”€â”€ gameService.ts     # ä¸»è¦æœåŠ¡æ¥å£ âœ¨
```

**åŠŸèƒ½ç‰¹æ€§**ï¼š
- âœ… **æµç¨‹æ§åˆ¶**: æ¸¸æˆå¼€å§‹ã€ç»“æŸã€é‡å¯å®Œæ•´æµç¨‹
- âœ… **äº‹ä»¶å¤„ç†**: æŠ¢åœ°ä¸»ã€å‡ºç‰Œã€è·³è¿‡ç»Ÿä¸€å¤„ç†
- âœ… **çŠ¶æ€ç®¡ç†**: æ¸¸æˆé˜¶æ®µã€å›åˆã€èƒœè´ŸçŠ¶æ€è®¡ç®—
- âœ… **è§„åˆ™æ‰§è¡Œ**: å®Œæ•´çš„æ–—åœ°ä¸»è§„åˆ™éªŒè¯å’Œæ‰§è¡Œ
- âœ… **æ•°æ®ç»Ÿè®¡**: æ¸¸æˆæ•°æ®ç»Ÿè®¡å’Œåˆ†æ

**APIæ¥å£**ï¼š
- `GET /api/games/rooms/{roomId}/game-state` - è·å–æ¸¸æˆçŠ¶æ€ âœ¨
- `POST /api/games/rooms/{roomId}/start` - å¼€å§‹æ¸¸æˆ âœ¨
- `POST /api/games/rooms/{roomId}/grab-landlord` - æŠ¢åœ°ä¸» âœ¨
- `POST /api/games/rooms/{roomId}/play-cards` - å‡ºç‰Œ âœ¨
- `POST /api/games/rooms/{roomId}/pass-turn` - è·³è¿‡å›åˆ âœ¨

**æŠ€æœ¯æ”¹è¿›**ï¼š
- âœ… **æµç¨‹æ¸…æ™°**: æ˜ç¡®çš„çŠ¶æ€æœºå’Œäº‹ä»¶é©±åŠ¨è®¾è®¡
- âœ… **è§„åˆ™å®Œæ•´**: å®Œæ•´çš„æ¸¸æˆè§„åˆ™å’Œä¸šåŠ¡é€»è¾‘
- âœ… **çŠ¶æ€å‡†ç¡®**: ç»Ÿä¸€çš„çŠ¶æ€è®¡ç®—å’ŒæŸ¥è¯¢
- âœ… **äº‹ä»¶çµæ´»**: çµæ´»çš„äº‹ä»¶å¤„ç†æœºåˆ¶

#### **ğŸ›ï¸ GameFacadeç»Ÿä¸€æ¥å£å®Œæˆ** âœ…

æˆåŠŸåˆ›å»ºæ¸¸æˆé—¨é¢æœåŠ¡ï¼Œæ•´åˆæ‰€æœ‰æ¨¡å—ï¼š

**æ ¸å¿ƒç‰¹æ€§**ï¼š
- âœ… **ç»Ÿä¸€å…¥å£**: æ‰€æœ‰æ¸¸æˆæ“ä½œçš„å•ä¸€æ¥å£
- âœ… **é«˜çº§æ“ä½œ**: å¿«é€Ÿå¼€å§‹ã€æ‰¹é‡æ“ä½œã€çŠ¶æ€å¿«ç…§
- âœ… **ç³»ç»Ÿç®¡ç†**: ç»Ÿè®¡ä¿¡æ¯ã€å¥åº·æ£€æŸ¥ã€èµ„æºæ¸…ç†
- âœ… **é”™è¯¯å¤„ç†**: ç»Ÿä¸€çš„å¼‚å¸¸å¤„ç†å’Œå“åº”æ ¼å¼

**APIæ¥å£**ï¼š
- `GET /api/games/rooms/{roomId}/snapshot` - è·å–æ¸¸æˆå¿«ç…§ âœ¨
- `POST /api/games/rooms/{roomId}/action` - é€šç”¨æ¸¸æˆæ“ä½œ âœ¨
- `GET /api/games/stats` - è·å–ç³»ç»Ÿç»Ÿè®¡ âœ¨
- `GET /api/games/health` - ç³»ç»Ÿå¥åº·æ£€æŸ¥ âœ¨

**æŠ€æœ¯æ”¹è¿›**ï¼š
- âœ… **ç®€åŒ–ä½¿ç”¨**: ç»Ÿä¸€æ¥å£ï¼Œé™ä½å­¦ä¹ æˆæœ¬
- âœ… **æ€§èƒ½ä¼˜åŒ–**: æ‰¹é‡æ“ä½œå’Œç¼“å­˜æœºåˆ¶
- âœ… **æ‰©å±•æ€§**: æ˜“äºæ·»åŠ æ–°åŠŸèƒ½
- âœ… **å¯ç»´æŠ¤æ€§**: æ¸…æ™°çš„èŒè´£åˆ†ç¦»

## ğŸŒ è®¿é—®åœ°å€

- **å¤§å…é¡µé¢**: http://localhost:3000/lobby/
- **æˆ¿é—´é¡µé¢**: http://localhost:3000/room/
- **APIæ–‡æ¡£**: http://localhost:3000/api

## ğŸ“‹ é¡¹ç›®ç»“æ„

```
doudizhu/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ types/           # æ¨¡å—åŒ–ç±»å‹å®šä¹‰
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts     # ç»Ÿä¸€å¯¼å‡º
â”‚   â”‚   â”‚   â”œâ”€â”€ player.ts    # ç©å®¶ç±»å‹
â”‚   â”‚   â”‚   â””â”€â”€ room.ts      # æˆ¿é—´ç±»å‹
â”‚   â”‚   â”œâ”€â”€ services/        # ä¸šåŠ¡é€»è¾‘æœåŠ¡ âœ¨
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts     # ç»Ÿä¸€å¯¼å‡ºæ‰€æœ‰æœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ gameService.ts # æ¸¸æˆä¸»æœåŠ¡ï¼ˆå·²ä¼˜åŒ–ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ gameFacade.ts # æ¸¸æˆé—¨é¢æœåŠ¡ âœ¨
â”‚   â”‚   â”‚   â”œâ”€â”€ card/        # æ‰‘å…‹ç‰ŒæœåŠ¡æ¨¡å— âœ¨
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts     # CardæœåŠ¡å¯¼å‡º
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ cardGenerator.ts  # æ‰‘å…‹ç‰Œç”Ÿæˆå™¨
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ cardShuffler.ts   # æ´—ç‰Œç®—æ³•æœåŠ¡
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ cardValidator.ts  # ç‰Œå‹éªŒè¯å™¨
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ cardService.ts    # ä¸»è¦æœåŠ¡æ¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ room/        # æˆ¿é—´ç®¡ç†æœåŠ¡æ¨¡å— âœ¨
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts     # RoomæœåŠ¡å¯¼å‡º
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ roomManager.ts   # æˆ¿é—´ç”Ÿå‘½å‘¨æœŸç®¡ç†
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ roomValidator.ts # æˆ¿é—´è§„åˆ™éªŒè¯
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ defaultRooms.ts  # é»˜è®¤æˆ¿é—´é…ç½®
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ roomService.ts    # ä¸»è¦æœåŠ¡æ¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ player/       # ç©å®¶ç®¡ç†æœåŠ¡æ¨¡å— âœ¨
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts     # PlayeræœåŠ¡å¯¼å‡º
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ playerManager.ts   # ç©å®¶ç”Ÿå‘½å‘¨æœŸç®¡ç†
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ playerValidator.ts # ç©å®¶æ“ä½œéªŒè¯
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ playerSession.ts   # ç©å®¶ä¼šè¯ç®¡ç†
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ playerService.ts    # ä¸»è¦æœåŠ¡æ¥å£
â”‚   â”‚   â”‚   â””â”€â”€ game/        # æ¸¸æˆå¼•æ“æœåŠ¡æ¨¡å— âœ¨
â”‚   â”‚   â”‚       â”œâ”€â”€ index.ts     # GameæœåŠ¡å¯¼å‡º
â”‚   â”‚   â”‚       â”œâ”€â”€ gameEngine.ts   # æ¸¸æˆæµç¨‹æ§åˆ¶å¼•æ“
â”‚   â”‚   â”‚       â”œâ”€â”€ gameRules.ts     # æ¸¸æˆè§„åˆ™éªŒè¯
â”‚   â”‚   â”‚       â”œâ”€â”€ gameState.ts     # æ¸¸æˆçŠ¶æ€ç®¡ç†
â”‚   â”‚   â”‚       â””â”€â”€ gameService.ts    # ä¸»è¦æœåŠ¡æ¥å£
â”‚   â”‚   â”œâ”€â”€ app.ts           # ä¸»è¦åº”ç”¨é€»è¾‘
â”‚   â”‚   â””â”€â”€ routes/          # APIè·¯ç”±
â”‚   â”œâ”€â”€ server.ts           # æœåŠ¡å™¨å¯åŠ¨æ–‡ä»¶ âœ¨
â”‚   â”œâ”€â”€ nodemon.json        # çƒ­é‡è½½é…ç½® âœ¨
â”‚   â””â”€â”€ package.json        # é¡¹ç›®é…ç½®
â”œâ”€â”€ frontend/
â”‚   â””â”€â”€ public/             # å‰ç«¯é™æ€æ–‡ä»¶
â”œâ”€â”€ start.bat               # Windowså¯åŠ¨è„šæœ¬
â”œâ”€â”€ start.sh                # Linux/Macå¯åŠ¨è„šæœ¬
â””â”€â”€ VERSION.md              # ç‰ˆæœ¬å†å²
```

## ğŸ¯ v1.0.0 ç‰ˆæœ¬ç‰¹æ€§

- âœ… **å‰ç«¯ç•Œé¢å¸ƒå±€å®Œæˆ** - ä¸“ä¸šçš„æ–—åœ°ä¸»æ¸¸æˆç•Œé¢
- âœ… **æ¨¡å—åŒ–ç±»å‹ç³»ç»Ÿ** - TypeScriptæ¥å£æŒ‰åŠŸèƒ½åˆ†ç»„
- âœ… **å®æ—¶èŠå¤©ç³»ç»Ÿ** - æ”¯æŒé•¿æ¶ˆæ¯èƒŒæ™¯è‰²å®Œæ•´è¦†ç›–
- âœ… **å“åº”å¼è®¾è®¡** - æ¡Œé¢ã€å¹³æ¿ã€ç§»åŠ¨ç«¯å®Œç¾é€‚é…
- âœ… **Socket.IOé›†æˆ** - å®æ—¶é€šä¿¡ç³»ç»Ÿ
- âœ… **ä»£ç ç»“æ„ä¼˜åŒ–** - æ¸…æ™°çš„æ¨¡å—åŒ–ç»„ç»‡
- âœ… **çƒ­é‡è½½å¼€å‘ç¯å¢ƒ** - ä¿®æ”¹æ–‡ä»¶è‡ªåŠ¨é‡å¯æœåŠ¡å™¨ âœ¨
- âœ… **æˆ¿é—´æ•°æ®ç»Ÿä¸€ç®¡ç†** - ä¿®å¤APIå’ŒSocket.IOæ•°æ®ä¸€è‡´æ€§é—®é¢˜ âœ¨
- âœ… **é»˜è®¤æˆ¿é—´é¢„åˆ›å»º** - æœåŠ¡å™¨å¯åŠ¨æ—¶è‡ªåŠ¨åˆ›å»º6ä¸ªæˆ¿é—´ âœ¨
- âœ… **CardServiceæ¨¡å—æ‹†åˆ†** - æ‰‘å…‹ç‰Œå·¥å…·æœåŠ¡ç‹¬ç«‹åŒ– âœ¨
- âœ… **RoomServiceæ¨¡å—æ‹†åˆ†** - æˆ¿é—´ç®¡ç†æœåŠ¡ç‹¬ç«‹åŒ– âœ¨
- âœ… **PlayerServiceæ¨¡å—æ‹†åˆ†** - ç©å®¶ç®¡ç†æœåŠ¡ç‹¬ç«‹åŒ– âœ¨
- âœ… **GameEngineæ¨¡å—æ‹†åˆ†** - æ¸¸æˆå¼•æ“æœåŠ¡ç‹¬ç«‹åŒ– âœ¨
- âœ… **GameFacadeç»Ÿä¸€æ¥å£** - é«˜çº§æ¸¸æˆç®¡ç†é—¨é¢æœåŠ¡ âœ¨

## ğŸ› ï¸ å¼€å‘ç¯å¢ƒé…ç½®

### **çƒ­é‡è½½è®¾ç½®**

é¡¹ç›®é…ç½®äº†å®Œæ•´çš„çƒ­é‡è½½å¼€å‘ç¯å¢ƒï¼Œæ”¯æŒä»¥ä¸‹ç‰¹æ€§ï¼š

#### **è‡ªåŠ¨ç›‘å¬æ–‡ä»¶å˜åŒ–**
- **æºä»£ç **: `src/**/*` ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶
- **é…ç½®æ–‡ä»¶**: `server.ts`ã€`nodemon.json`ã€`.env`
- **æ–‡ä»¶ç±»å‹**: `.ts`ã€`.js`ã€`.json` æ–‡ä»¶

#### **æ™ºèƒ½å¿½ç•¥**
- **ä¾èµ–åŒ…**: `node_modules/**/*`
- **ç¼–è¯‘è¾“å‡º**: `dist/**/*`
- **æµ‹è¯•æ–‡ä»¶**: `test/**/*`ã€`*.test.ts`ã€`*.spec.ts`

#### **å¼€å‘è„šæœ¬**
```bash
# çƒ­é‡è½½å¼€å‘ï¼ˆæ¨èï¼‰
npm run dev:watch

# æ™®é€šå¼€å‘
npm run dev

# è°ƒè¯•æ¨¡å¼
npm run dev:debug

# ä½¿ç”¨nodemoné…ç½®
npm run dev:nodemon
```

### **IDEé›†æˆ**

#### **VS Codeé…ç½®**
é¡¹ç›®åŒ…å«å®Œæ•´çš„VS Codeé…ç½®ï¼š
- **è°ƒè¯•é…ç½®**: `.vscode/launch.json` - æ”¯æŒæ–­ç‚¹è°ƒè¯•
- **ä»»åŠ¡é…ç½®**: `.vscode/tasks.json` - IDEå†…è¿è¡Œä»»åŠ¡
- **çƒ­é‡è½½**: è‡ªåŠ¨ç›‘å¬æ–‡ä»¶å˜åŒ–å¹¶é‡å¯

#### **ä½¿ç”¨æ–¹æ³•**
1. æ‰“å¼€é¡¹ç›®æ–‡ä»¶å¤¹
2. æŒ‰ `F5` å¯åŠ¨è°ƒè¯•
3. ä¿®æ”¹æ–‡ä»¶è‡ªåŠ¨é‡å¯æœåŠ¡å™¨

### **å¼€å‘å·¥ä½œæµç¨‹**
1. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**: `npm run dev:watch`
2. **ä¿®æ”¹ä»£ç **: ç¼–è¾‘ä»»ä½• `.ts` æ–‡ä»¶
3. **è‡ªåŠ¨é‡å¯**: nodemonæ£€æµ‹å˜åŒ–å¹¶é‡å¯
4. **æŸ¥çœ‹ç»“æœ**: æµè§ˆå™¨åˆ·æ–°æŸ¥çœ‹æ•ˆæœ

## ğŸ”§ æŠ€æœ¯æ ˆ

- **åç«¯**: TypeScript + Express + Socket.IO
- **å‰ç«¯**: HTML5 + CSS3 + JavaScript + Socket.IOå®¢æˆ·ç«¯
- **ç±»å‹ç³»ç»Ÿ**: æ¨¡å—åŒ–TypeScriptæ¥å£å®šä¹‰
- **å¸ƒå±€ç³»ç»Ÿ**: CSS Grid + Flexbox
- **æ„å»ºå·¥å…·**: TypeScriptç¼–è¯‘å™¨
- **ä¸šåŠ¡æœåŠ¡**: å®Œæ•´çš„æ¨¡å—åŒ–æœåŠ¡æ¶æ„ï¼ˆCardService + RoomService + PlayerService + GameEngine + GameFacadeï¼‰âœ¨
- **å¼€å‘å·¥å…·**: Nodemonçƒ­é‡è½½ + VS Codeè°ƒè¯•é›†æˆ âœ¨

## ğŸ”§ é…ç½®è¯´æ˜

### å‰ç«¯è·¯å¾„é…ç½®

é¡¹ç›®æ”¯æŒçµæ´»çš„å‰ç«¯è·¯å¾„é…ç½®ï¼Œä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è‡ªå®šä¹‰è·¯å¾„ï¼š

#### ç¯å¢ƒå˜é‡é…ç½®ï¼ˆæ¨èï¼‰

åœ¨ `backend/.env` æ–‡ä»¶ä¸­è®¾ç½®ï¼š
```bash
# å‰ç«¯å…¬å…±ç›®å½•ï¼ˆç›¸å¯¹äºé¡¹ç›®æ ¹ç›®å½•ï¼‰
FRONTEND_PUBLIC_PATH=frontend/public

# å¤§å…é¡µé¢ç›®å½•å
LOBBY_PATH=lobby

# æˆ¿é—´é¡µé¢ç›®å½•å
ROOM_PATH=room
```

#### é…ç½®æ–‡ä»¶

å‰ç«¯è·¯å¾„é…ç½®ä½äº `backend/src/config/index.ts`ï¼š
- `config.paths.frontend.public` - å‰ç«¯å…¬å…±æ–‡ä»¶ç›®å½•
- `config.paths.frontend.lobby` - å¤§å…é¡µé¢ç›®å½•
- `config.paths.frontend.room` - æˆ¿é—´é¡µé¢ç›®å½•

#### è·¯ç”±é…ç½®

- **å¤§å…é¡µé¢**: `GET /` â†’ è‡ªåŠ¨é‡å®šå‘åˆ° `/lobby/`
- **æˆ¿é—´é¡µé¢**: `GET /room` â†’ è®¿é—®æˆ¿é—´ç•Œé¢
- **é™æ€æ–‡ä»¶**: æ‰€æœ‰å‰ç«¯é™æ€æ–‡ä»¶é€šè¿‡ `/` è·¯å¾„è®¿é—®

#### ğŸ“ æ³¨æ„äº‹é¡¹

1. **å¯åŠ¨æ–‡ä»¶**: ä½¿ç”¨ `backend/server.ts` è€Œé `test.ts`
2. **å¼€å‘æ¨¡å¼**: æ¨èä½¿ç”¨ `npm run dev` è¿›è¡Œå¼€å‘
3. **ç«¯å£**: æœåŠ¡å™¨è¿è¡Œåœ¨ç«¯å£ 3000
4. **æ–‡ä»¶æœåŠ¡**: å‰ç«¯æ–‡ä»¶é€šè¿‡Expressé™æ€æ–‡ä»¶æœåŠ¡æä¾›

---

**ğŸŠ æ­å–œï¼æ–—åœ°ä¸»æ¸¸æˆé¡¹ç›®v1.0.0ç‰ˆæœ¬å·²ç»å®Œæˆï¼**
=======
# doudizhu
æ–—åœ°ä¸»çº¸ç‰Œæ¸¸æˆ
>>>>>>> 25ea797cde03f87927744fea2c471c4641d938ec
