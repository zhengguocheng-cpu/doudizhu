<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç‰Œå‹è¯†åˆ«æµ‹è¯•</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            max-width: 1200px;
            margin: 20px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        h1 {
            color: #333;
            text-align: center;
        }
        .test-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .test-case {
            margin: 10px 0;
            padding: 10px;
            border-left: 4px solid #ddd;
        }
        .test-case.pass {
            border-left-color: #4caf50;
            background: #f1f8f4;
        }
        .test-case.fail {
            border-left-color: #f44336;
            background: #fef1f0;
        }
        .test-title {
            font-weight: bold;
            margin-bottom: 5px;
        }
        .test-input {
            color: #666;
            font-family: monospace;
        }
        .test-result {
            margin-top: 5px;
            font-family: monospace;
        }
        .summary {
            text-align: center;
            font-size: 24px;
            font-weight: bold;
            margin: 20px 0;
        }
        .summary.pass {
            color: #4caf50;
        }
        .summary.fail {
            color: #f44336;
        }
    </style>
</head>
<body>
    <h1>ğŸ´ æ–—åœ°ä¸»ç‰Œå‹è¯†åˆ«æµ‹è¯•</h1>
    <div id="testResults"></div>
    <div id="summary"></div>

    <script src="CardTypeDetector.js"></script>
    <script>
        // æµ‹è¯•ç”¨ä¾‹
        const testCases = [
            // 1. å•ç‰Œ
            { cards: ['â™ 3'], expected: 'SINGLE', desc: 'å•ç‰Œ - 3' },
            { cards: ['â™¥A'], expected: 'SINGLE', desc: 'å•ç‰Œ - A' },
            { cards: ['â™¦2'], expected: 'SINGLE', desc: 'å•ç‰Œ - 2' },
            { cards: ['å¤§ç‹'], expected: 'SINGLE', desc: 'å•ç‰Œ - å¤§ç‹' },

            // 2. å¯¹å­
            { cards: ['â™ 3', 'â™¥3'], expected: 'PAIR', desc: 'å¯¹å­ - 33' },
            { cards: ['â™ A', 'â™¥A'], expected: 'PAIR', desc: 'å¯¹å­ - AA' },
            { cards: ['â™ 2', 'â™¥2'], expected: 'PAIR', desc: 'å¯¹å­ - 22' },

            // 3. ä¸‰å¼ 
            { cards: ['â™ 3', 'â™¥3', 'â™¦3'], expected: 'TRIPLE', desc: 'ä¸‰å¼  - 333' },
            { cards: ['â™ K', 'â™¥K', 'â™¦K'], expected: 'TRIPLE', desc: 'ä¸‰å¼  - KKK' },

            // 4. ä¸‰å¸¦ä¸€
            { cards: ['â™ 3', 'â™¥3', 'â™¦3', 'â™£4'], expected: 'TRIPLE_PLUS_ONE', desc: 'ä¸‰å¸¦ä¸€ - 333+4' },
            { cards: ['â™ K', 'â™¥K', 'â™¦K', 'â™£A'], expected: 'TRIPLE_PLUS_ONE', desc: 'ä¸‰å¸¦ä¸€ - KKK+A' },

            // 5. ä¸‰å¸¦äºŒ
            { cards: ['â™ 3', 'â™¥3', 'â™¦3', 'â™£4', 'â™ 4'], expected: 'TRIPLE_PLUS_TWO', desc: 'ä¸‰å¸¦äºŒ - 333+44' },
            { cards: ['â™ K', 'â™¥K', 'â™¦K', 'â™£A', 'â™ A'], expected: 'TRIPLE_PLUS_TWO', desc: 'ä¸‰å¸¦äºŒ - KKK+AA' },

            // 6. é¡ºå­
            { cards: ['â™ 3', 'â™¥4', 'â™¦5', 'â™£6', 'â™ 7'], expected: 'STRAIGHT', desc: 'é¡ºå­ - 34567' },
            { cards: ['â™ 5', 'â™¥6', 'â™¦7', 'â™£8', 'â™ 9', 'â™¥10'], expected: 'STRAIGHT', desc: 'é¡ºå­ - 5678910' },
            { cards: ['â™ 10', 'â™¥J', 'â™¦Q', 'â™£K', 'â™ A'], expected: 'STRAIGHT', desc: 'é¡ºå­ - 10JQKA' },
            { cards: ['â™ A', 'â™¥2', 'â™¦3', 'â™£4', 'â™ 5'], expected: null, desc: 'æ— æ•ˆ - ä¸èƒ½åŒ…å«2' },

            // 7. è¿å¯¹
            { cards: ['â™ 3', 'â™¥3', 'â™¦4', 'â™£4', 'â™ 5', 'â™¥5'], expected: 'DOUBLE_STRAIGHT', desc: 'è¿å¯¹ - 334455' },
            { cards: ['â™ 7', 'â™¥7', 'â™¦8', 'â™£8', 'â™ 9', 'â™¥9', 'â™¦10', 'â™£10'], expected: 'DOUBLE_STRAIGHT', desc: 'è¿å¯¹ - 778899(10)(10)' },

            // 8. é£æœº
            { cards: ['â™ 3', 'â™¥3', 'â™¦3', 'â™£4', 'â™ 4', 'â™¥4'], expected: 'PLANE', desc: 'é£æœº - 333444' },
            { cards: ['â™ 5', 'â™¥5', 'â™¦5', 'â™£6', 'â™ 6', 'â™¥6', 'â™¦7', 'â™£7', 'â™ 7'], expected: 'PLANE', desc: 'é£æœº - 555666777' },

            // 9. é£æœºå¸¦ç¿…è†€
            { cards: ['â™ 3', 'â™¥3', 'â™¦3', 'â™£4', 'â™ 4', 'â™¥4', 'â™¦5', 'â™£6'], expected: 'PLANE_PLUS_WINGS', desc: 'é£æœºå¸¦å• - 333444+56' },
            { cards: ['â™ 3', 'â™¥3', 'â™¦3', 'â™£4', 'â™ 4', 'â™¥4', 'â™¦5', 'â™£5', 'â™ 6', 'â™¥6'], expected: 'PLANE_PLUS_WINGS', desc: 'é£æœºå¸¦å¯¹ - 333444+5566' },

            // 10. ç‚¸å¼¹
            { cards: ['â™ 3', 'â™¥3', 'â™¦3', 'â™£3'], expected: 'BOMB', desc: 'ç‚¸å¼¹ - 3333' },
            { cards: ['â™ A', 'â™¥A', 'â™¦A', 'â™£A'], expected: 'BOMB', desc: 'ç‚¸å¼¹ - AAAA' },

            // 11. ç‹ç‚¸
            { cards: ['å¤§ç‹', 'å°ç‹'], expected: 'ROCKET', desc: 'ç‹ç‚¸' },
            { cards: ['ğŸƒå¤§ç‹', 'ğŸƒå°ç‹'], expected: 'ROCKET', desc: 'ç‹ç‚¸ï¼ˆå¸¦emojiï¼‰' },

            // 12. å››å¸¦äºŒ
            { cards: ['â™ 3', 'â™¥3', 'â™¦3', 'â™£3', 'â™ 4', 'â™¥5'], expected: 'FOUR_PLUS_TWO', desc: 'å››å¸¦äºŒå• - 3333+45' },
            { cards: ['â™ 3', 'â™¥3', 'â™¦3', 'â™£3', 'â™ 4', 'â™¥4'], expected: 'FOUR_PLUS_TWO', desc: 'å››å¸¦äºŒå¯¹ - 3333+44' },

            // 13. æ— æ•ˆç‰Œå‹
            { cards: ['â™ 3', 'â™¥4', 'â™¦5'], expected: null, desc: 'æ— æ•ˆ - 345ï¼ˆä¸å¤Ÿ5å¼ ï¼‰' },
            { cards: ['â™ 3', 'â™¥3', 'â™¦4', 'â™£4', 'â™ 5'], expected: null, desc: 'æ— æ•ˆ - æ··åˆç‰Œå‹' },
            { cards: ['â™ 3', 'â™¥4', 'â™¦6', 'â™£7', 'â™ 8'], expected: null, desc: 'æ— æ•ˆ - ä¸è¿ç»­' },
        ];

        // è¿è¡Œæµ‹è¯•
        function runTests() {
            const resultsDiv = document.getElementById('testResults');
            const summaryDiv = document.getElementById('summary');
            
            let passCount = 0;
            let failCount = 0;

            testCases.forEach((testCase, index) => {
                const result = CardTypeDetector.detect(testCase.cards);
                const actualType = result ? result.type : null;
                const pass = actualType === testCase.expected;

                if (pass) passCount++;
                else failCount++;

                const testDiv = document.createElement('div');
                testDiv.className = `test-case ${pass ? 'pass' : 'fail'}`;
                testDiv.innerHTML = `
                    <div class="test-title">
                        ${pass ? 'âœ…' : 'âŒ'} æµ‹è¯• ${index + 1}: ${testCase.desc}
                    </div>
                    <div class="test-input">
                        è¾“å…¥: [${testCase.cards.join(', ')}]
                    </div>
                    <div class="test-result">
                        æœŸæœ›: ${testCase.expected || 'null'} | 
                        å®é™…: ${actualType || 'null'}
                        ${result ? ` | å€¼: ${result.value} | æè¿°: ${result.description}` : ''}
                    </div>
                `;

                resultsDiv.appendChild(testDiv);
            });

            // æ˜¾ç¤ºæ€»ç»“
            const total = testCases.length;
            const passRate = ((passCount / total) * 100).toFixed(1);
            summaryDiv.className = `summary ${passCount === total ? 'pass' : 'fail'}`;
            summaryDiv.innerHTML = `
                æµ‹è¯•å®Œæˆ: ${passCount}/${total} é€šè¿‡ (${passRate}%)
                ${passCount === total ? 'ğŸ‰ æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼' : 'âš ï¸ éƒ¨åˆ†æµ‹è¯•å¤±è´¥'}
            `;
        }

        // é¡µé¢åŠ è½½åè¿è¡Œæµ‹è¯•
        window.onload = runTests;
    </script>
</body>
</html>
